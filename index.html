<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>è½©è½©ç”Ÿæ—¥å€’è®¡æ—¶</title>
<link rel="stylesheet" href="style.css">
<style>
body {
  margin: 0;
  background: radial-gradient(circle at 50% 50%, #0a0f1a, #000);
  color: #00ffe0;
  font-family: 'Orbitron', sans-serif;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  height: 100vh;
  overflow: hidden;
}

h1 {
  font-size: 2.5em;
  letter-spacing: 3px;
  text-shadow: 0 0 10px #00ffe0;
}

.countdown {
  font-size: 2em;
  margin-top: 20px;
  text-shadow: 0 0 20px #00ffe0;
}

canvas {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  pointer-events: none;
  display: none;
}

button {
  margin-top: 50px;
  padding: 15px 40px;
  background: none;
  border: 2px solid #00ffe0;
  color: #00ffe0;
  font-size: 1.1em;
  border-radius: 8px;
  cursor: pointer;
  transition: 0.3s;
}
button:hover {
  background: #00ffe0;
  color: #000;
}
</style>
</head>
<body>

<h1>è·ç¦»è½©è½©çš„ç”Ÿæ—¥è¿˜æœ‰</h1>
<div class="countdown" id="countdown"></div>
<canvas id="canvas"></canvas>
<button onclick="location.href='story.html'">è¿›å…¥æˆ‘ä»¬çš„æ•…äº‹å†Œ ğŸ“–</button>

<script>
const targetDate = new Date('2025-11-14T00:00:00').getTime();
const countdownEl = document.getElementById('countdown');
const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');

function updateCountdown() {
  const now = new Date().getTime();
  const diff = targetDate - now;

  if (diff <= 0) {
    countdownEl.textContent = "ğŸ‰ ç”Ÿæ—¥å¿«ä¹ï¼Œè½©è½©ï¼ğŸ‚";
    startFireworks();
    clearInterval(interval);
    return;
  }

  const d = Math.floor(diff / (1000 * 60 * 60 * 24));
  const h = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
  const m = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
  const s = Math.floor((diff % (1000 * 60)) / 1000);

  countdownEl.textContent = `${d}å¤© ${h}å°æ—¶ ${m}åˆ†é’Ÿ ${s}ç§’`;
}

const interval = setInterval(updateCountdown, 1000);
updateCountdown();

// --- ç§‘æŠ€é£çƒŸèŠ±ç‰¹æ•ˆ ---
function startFireworks() {
  canvas.style.display = 'block';
  let particles = [];
  const colors = ['#00ffe0', '#00b3ff', '#00ffb0', '#4ef0ff', '#38fff8'];

  function createParticle(x, y) {
    const angle = Math.random() * 2 * Math.PI;
    const speed = Math.random() * 4 + 2;
    particles.push({
      x, y,
      vx: Math.cos(angle) * speed,
      vy: Math.sin(angle) * speed,
      life: 100 + Math.random() * 50,
      color: colors[Math.floor(Math.random() * colors.length)]
    });
  }

  function draw() {
    ctx.fillStyle = 'rgba(0,0,0,0.15)';
    ctx.fillRect(0, 0, canvas.width, canvas.height);

    particles.forEach((p, i) => {
      ctx.beginPath();
      ctx.arc(p.x, p.y, 2, 0, 2 * Math.PI);
      ctx.fillStyle = p.color;
      ctx.fill();

      p.x += p.vx;
      p.y += p.vy;
      p.life -= 1;
      p.vy += 0.05;

      if (p.life <= 0) particles.splice(i, 1);
    });

    if (Math.random() < 0.05) {
      const x = Math.random() * canvas.width;
      const y = Math.random() * canvas.height * 0.6;
      for (let i = 0; i < 60; i++) createParticle(x, y);
    }

    requestAnimationFrame(draw);
  }

  resize();
  draw();
}

function resize() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}

window.addEventListener('resize', resize);
</script>
</body>
</html>
