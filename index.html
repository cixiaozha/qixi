<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>è½©è½©ç”Ÿæ—¥å€’è®¡æ—¶</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600&display=swap');

body {
  margin: 0;
  background: radial-gradient(circle at center, #0d1b2a, #000);
  color: #00eaff;
  font-family: 'Orbitron', sans-serif;
  height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  overflow: hidden;
}

h1 {
  font-size: 2.3em;
  letter-spacing: 2px;
  margin-bottom: 20px;
  text-shadow: 0 0 15px #00eaff;
}

#countdown {
  font-size: 2em;
  text-shadow: 0 0 20px #00eaff;
}

button {
  margin-top: 60px;
  padding: 12px 36px;
  border: 2px solid #00eaff;
  background: transparent;
  color: #00eaff;
  font-size: 1.1em;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.3s;
}
button:hover {
  background: #00eaff;
  color: #000;
}

canvas {
  position: fixed;
  top: 0; left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  display: none;
}
</style>
</head>
<body>

<h1>è·ç¦»è½©è½©çš„ç”Ÿæ—¥è¿˜æœ‰</h1>
<div id="countdown"></div>
<canvas id="fireworks"></canvas>
<button onclick="location.href='story.html'">è¿›å…¥æˆ‘ä»¬çš„æ•…äº‹å†Œ ğŸ“–</button>

<script>
const countdownEl = document.getElementById('countdown');
const canvas = document.getElementById('fireworks');
const ctx = canvas.getContext('2d');
const targetDate = new Date('2025-11-14T00:00:00');

function updateCountdown() {
  const now = new Date(); // âœ… è®¾å¤‡æ—¶é—´
  const diff = targetDate - now;

  if (diff <= 0) {
    countdownEl.textContent = "ğŸ‰ ç”Ÿæ—¥å¿«ä¹ï¼Œè½©è½©ï¼ğŸ‚";
    startFireworks();
    clearInterval(timer);
    return;
  }

  const d = Math.floor(diff / (1000 * 60 * 60 * 24));
  const h = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
  const m = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
  const s = Math.floor((diff % (1000 * 60)) / 1000);

  countdownEl.textContent = `${d} å¤© ${h} å°æ—¶ ${m} åˆ†é’Ÿ ${s} ç§’`;
}

const timer = setInterval(updateCountdown, 1000);
updateCountdown();

function startFireworks() {
  canvas.style.display = 'block';
  resize();
  const colors = ['#00eaff', '#4ef5ff', '#00ffd5', '#b3fff5'];
  let particles = [];

  function createParticle(x, y) {
    const angle = Math.random() * Math.PI * 2;
    const speed = Math.random() * 5 + 2;
    particles.push({
      x, y,
      vx: Math.cos(angle) * speed,
      vy: Math.sin(angle) * speed,
      life: 100 + Math.random() * 50,
      color: colors[Math.floor(Math.random() * colors.length)]
    });
  }

  function draw() {
    ctx.fillStyle = 'rgba(0, 0, 0, 0.15)';
    ctx.fillRect(0, 0, canvas.width, canvas.height);

    particles.forEach((p, i) => {
      ctx.beginPath();
      ctx.arc(p.x, p.y, 2, 0, Math.PI * 2);
      ctx.fillStyle = p.color;
      ctx.fill();
      p.x += p.vx;
      p.y += p.vy;
      p.vy += 0.05;
      p.life--;
      if (p.life <= 0) particles.splice(i, 1);
    });

    if (Math.random() < 0.04) {
      const x = Math.random() * canvas.width;
      const y = Math.random() * canvas.height * 0.5;
      for (let i = 0; i < 60; i++) createParticle(x, y);
    }

    requestAnimationFrame(draw);
  }

  draw();
}

function resize() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
window.addEventListener('resize', resize);
</script>
</body>
</html>
