<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>流星许愿</title>
<style>
  html, body {
    margin: 0;
    padding: 0;
    height: 100%;
    background: linear-gradient(135deg, #f5f5f5, #e0e0ff);
    overflow: hidden;
    font-family: "Segoe UI", sans-serif;
  }

  #star-container {
    position: relative;
    width: 100%;
    height: 100%;
    cursor: pointer;
  }

  .star {
    position: absolute;
    width: 15px;
    height: 15px;
    border-radius: 50%;
    background: radial-gradient(circle, #fff, #fffa);
    box-shadow: 0 0 8px #fff;
    opacity: 0.8;
  }

  #fortune-popup {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: rgba(30,30,40,0.95);
    color: #fff;
    padding: 25px 35px;
    border-radius: 18px;
    text-align: center;
    font-size: 1.2rem;
    display: none;
    max-width: 80%;
  }

  #story-btn {
    position: fixed;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    padding: 18px 50px;
    font-size: 1.1rem;
    border-radius: 20px;
    border: none;
    background: rgba(100, 80, 255, 0.8);
    color: #fff;
    backdrop-filter: blur(10px);
    cursor: pointer;
    box-shadow: 0 4px 10px rgba(100,80,255,0.5);
  }

  #story-btn:hover {
    background: rgba(120,100,255,0.9);
  }
</style>
</head>
<body>
<div id="star-container"></div>

<div id="fortune-popup"></div>

<button id="story-btn" onclick="location.href='#'">进入故事册</button>

<script>
const goodFortunes = [
"今天会遇到小惊喜，心情不错！",
"运气挺好，事情顺利进行。",
"心情愉快，适合社交或聊天。",
"事情有进展，加油！",
"今天会遇到好机会，抓住它！",
"收到称赞，信心满满。",
"财运还行，可以小额投资或理财。",
"朋友支持你，心里暖暖的。",
"健康良好，适合运动或锻炼。",
"今天适合尝试新事物，创意满满。",
"爱情运势不错，适合表白或约会。",
"工作顺利，效率高。",
"今天心态很好，容易解决问题。",
"学习进步，掌握新技能。",
"遇到贵人帮忙，事情顺利。",
"小目标达成，开心。",
"适合整理计划，效率高。",
"心情舒畅，适合放松或休息。",
"收入或财富有小收获。",
"好事连连，心想事成。",
"今天适合旅行或户外活动。",
"被朋友关心，幸福感提升。",
"灵感爆发，创意点子多。",
"今天会收到意外的好消息。",
"小困难容易解决，心态好。",
"情绪高涨，适合表达自己。",
"财运稳中有升，注意理财。",
"心情愉快，容易交到新朋友。",
"今天适合完成计划或任务。",
"健康状态良好，注意作息。",
"今天适合与人合作，效率高。",
"会遇到好机会，抓住就有收获。",
"心态平稳，事情容易顺利。",
"爱情运良好，关系和谐。",
"今天容易收获小幸福。",
"工作或学习有突破，成就感高。",
"今天适合放松心情，享受生活。",
"遇到喜欢的事物或人，会开心。",
"财运不错，适合小投资或理财。",
"小幸运不断，心情愉快。"
];

const badFortunes = [
"今天容易遇到小麻烦，别急。",
"注意健康，小心感冒或疲劳。",
"财务方面有小波折，谨慎花钱。",
"事情进展慢，耐心点。",
"小误会容易发生，多沟通。",
"情绪可能有点低落，别太在意。",
"注意安全，小心小意外。",
"今天容易忘事，提醒自己。",
"小目标未达成，别灰心。",
"遇到小挫折，保持耐心。"
];

const allFortunes = [...goodFortunes, ...badFortunes];

let starCount = 0;
const maxStars = 5;

const container = document.getElementById("star-container");
const popup = document.getElementById("fortune-popup");

container.addEventListener("click", (e) => {
    if(starCount >= maxStars) return;

    const star = document.createElement("div");
    star.className = "star";
    star.style.left = `${e.clientX - 7}px`;
    star.style.top = `${e.clientY - 7}px`;
    star.style.width = `${10 + Math.random()*10}px`;
    star.style.height = star.style.width;
    star.style.opacity = 0.5 + Math.random()*0.5;
    container.appendChild(star);

    starCount++;

    if(starCount === maxStars){
        setTimeout(showFortune, 500);
    }
});

function showFortune(){
    // 随机抽签，但坏签概率低一点
    let fortune;
    const random = Math.random();
    if(random < 0.15){ // 15% 坏签
        fortune = badFortunes[Math.floor(Math.random() * badFortunes.length)];
    } else {
        fortune = goodFortunes[Math.floor(Math.random() * goodFortunes.length)];
    }

    popup.textContent = fortune;
    popup.style.display = "block";
}
</script>
</body>
</html>
